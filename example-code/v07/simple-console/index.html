---
---

<!DOCTYPE html>

<head>
{% include head.ext %}

    <title>TGUI v0.7 example code</title>
</head>

<body>
<div id="body" class="NoMargin">
{% include navigation.ext %}
    
<div id="contents" class="NoMargin">
    <h2>Simple console</h2>

    <p>This codes shows how to create a simple console/terminal.</p>

    <a class="img" href="{{site.url}}/resources/TGUI-v0.7-Simple-Console.png"><img alt="TGUI simple console example" src="{{site.url}}/resources/TGUI-v0.7-Simple-Console.png" width="402" height="329" /></a>

{% highlight c++ %}
#include <TGUI/TGUI.hpp>

void addToChatBox(tgui::ChatBox::Ptr chatBox, tgui::EditBox::Ptr editBox)
{
    // Remove the '>' line
    chatBox->removeLine(chatBox->getLineAmount()-1);

    // Add the new line to the chatbox
    chatBox->addLine("> " + editBox->getText());
    editBox->setText("");

    // Add the '>' again
    chatBox->addLine("> ");
}

int main()
{
    sf::RenderWindow window{sf::VideoMode{400, 300}, "TGUI window"};
    tgui::Gui gui(window);
    gui.setGlobalFont("TGUI/fonts/DejaVuSans.ttf");

    // The chatbox will contain out given commands
    auto chatBox = std::make_shared<tgui::ChatBox>();
    chatBox->setSize(400, 300);
    chatBox->setTextSize(18);
    chatBox->setTextColor(sf::Color::Black);
    chatBox->addLine("> ");
    gui.add(chatBox);

    // The edit box will be used to type new commands
    auto editBox = std::make_shared<tgui::EditBox>();
    editBox->setSize(376, 30);
    editBox->setPosition(400 - editBox->getSize().x, 300 - editBox->getSize().y);
    editBox->setTextSize(18);
    editBox->limitTextWidth(true);
    gui.add(editBox);

    // Since we didn't load any theme file, we will have to change the style in the code
    chatBox->getRenderer()->setBorders(0);
    chatBox->getRenderer()->setBackgroundColor({200, 200, 200});

    editBox->getRenderer()->setBorders(0);
    editBox->getRenderer()->setPadding(0, 4);
    editBox->getRenderer()->setBackgroundColor(sf::Color::Transparent);
    editBox->getRenderer()->setTextColor(sf::Color::Black);

    // When hitting enter, the line is added to the chatbox
    editBox->connect("ReturnKeyPressed", addToChatBox, chatBox, editBox);

    // Focus the edit box so that we can immediately type into it without needing to click it first
    editBox->focus();

    while (window.isOpen())
    {
        sf::Event event;
        while (window.pollEvent(event))
        {
            if (event.type == sf::Event::Closed)
                window.close();

            gui.handleEvent(event);
        }

        window.clear();
        gui.draw();
        window.display();
    }

    return EXIT_SUCCESS;
}
{% endhighlight %}
</div>

{% include footer.ext %}
</div>
</body>
